webpackJsonp([120],{1485:function(e,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=n(696),a=n.n(t),o=n(706),s=n.n(o),c=(n(39),n(707)),d=n(214),g=n(39);i.default={data:function(){return{id:"",messageList:[],params:{page:1,pageSize:10},showLoading:!1,loadingTip:"加载中...",end:!1,preventRepeatReuqest:!1,is_show:!1}},mixins:[c.a],components:{LoadMore:s.a},mounted:function(){this.init()},methods:{init:function(){var e=this;n.i(d.O)().then(function(i){e.id=i.result.id;var t=[];n.i(d.c)(e.id,e.params).then(function(i){e.messageList=i.result.data;for(var n=0;n<e.messageList.length;n++)t.push(e.messageList[n].id);e.badgeRead(t)}).catch(function(e){})}).catch(function(e){})},loadingMore:function(){var e=this;if(!this.end&&!this.preventRepeatReuqest){this.showLoading=!0,this.preventRepeatReuqest=!0,this.is_show=!0,this.showLoading=!0,this.params.page++;var i=[];n.i(d.c)(this.id,this.params).then(function(n){e.messageList=[].concat(a()(e.messageList),a()(n.result.data)),e.is_show=!1,e.showLoading=!1;for(var t=0;t<e.messageList.length;t++)i.push(e.messageList[t].id);e.badgeRead(i),n.result.data.length<e.params.pageSize&&(e.end=!0,e.is_show=!0,e.loadingTip="没有更多数据了"),e.preventRepeatReuqest=!1})}},badgeRead:function(e){var i=this;if(e.length>0){var t=e.join();n.i(d.d)(this.id,t).then(function(e){}).catch(function(e){i.$vux.toast.text(e.msg)})}},msgItemClick:function(e){var i=e.url;n.i(g.i)(function(e){e.callHandler("PushMessageClick",i,function(e){})})}}}},1732:function(e,i,n){i=e.exports=n(213)(!1),i.push([e.i,".message-list[data-v-8360febe]{font-size:.28rem}.message-list .message-item[data-v-8360febe]{padding:0 .3rem}.message-list .message-header[data-v-8360febe]{line-height:.8rem;text-align:center}.message-list .message-body[data-v-8360febe]{width:100%;height:100%;background:#fff;padding:.2rem .3rem;border-radius:.16rem}.message-list .message-body div[data-v-8360febe]{line-height:.4rem}.no-data[data-v-8360febe]{height:2rem;line-height:2rem;text-align:center;font-size:.28rem;color:#999;background-color:#f0f0f0}",""])},2170:function(e,i,n){var t=n(1732);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);n(524)("206a142a",t,!0,{})},2497:function(e,i){e.exports={render:function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",[n("div",{directives:[{name:"load-more",rawName:"v-load-more",value:e.loadingMore,expression:"loadingMore"}],staticClass:"message-list"},[e._l(e.messageList,function(i,t){return n("div",{staticClass:"message-item",on:{click:function(n){n.stopPropagation(),e.msgItemClick(i)}}},[n("div",{staticClass:"message-header"},[e._v("\n        "+e._s(i.created_at)+"\n      ")]),e._v(" "),n("div",{staticClass:"message-body",attrs:{data:JSON.stringify(i)}},[n("div",[e._v("\n          "+e._s(i.title)+"\n        ")]),e._v(" "),n("div",[e._v("\n          "+e._s(i.content)+"\n        ")])])])}),e._v(" "),n("load-more",{directives:[{name:"show",rawName:"v-show",value:e.is_show,expression:"is_show"}],attrs:{tip:e.loadingTip,"show-loading":e.showLoading,"background-color":"transparent"}})],2),e._v(" "),e.messageList.length?e._e():n("div",{staticClass:"no-data"},[e._v("暂无数据")])])},staticRenderFns:[]}},555:function(e,i,n){function t(e){n(2170)}var a=n(54)(n(1485),n(2497),t,"data-v-8360febe",null);e.exports=a.exports},687:function(e,i,n){e.exports={default:n(688),__esModule:!0}},688:function(e,i,n){n(138),n(690),e.exports=n(11).Array.from},689:function(e,i,n){"use strict";var t=n(34),a=n(70);e.exports=function(e,i,n){i in e?t.f(e,i,a(0,n)):e[i]=n}},690:function(e,i,n){"use strict";var t=n(69),a=n(33),o=n(94),s=n(217),c=n(216),d=n(140),g=n(689),r=n(215);a(a.S+a.F*!n(218)(function(e){Array.from(e)}),"Array",{from:function(e){var i,n,a,I,l=o(e),m="function"==typeof this?this:Array,u=arguments.length,y=u>1?arguments[1]:void 0,S=void 0!==y,N=0,p=r(l);if(S&&(y=t(y,u>2?arguments[2]:void 0,2)),void 0==p||m==Array&&c(p))for(i=d(l.length),n=new m(i);i>N;N++)g(n,N,S?y(l[N],N):l[N]);else for(I=p.call(l),n=new m;!(a=I.next()).done;N++)g(n,N,S?s(I,y,[a.value,N],!0):a.value);return n.length=N,n}})},696:function(e,i,n){"use strict";i.__esModule=!0;var t=n(687),a=function(e){return e&&e.__esModule?e:{default:e}}(t);i.default=function(e){if(Array.isArray(e)){for(var i=0,n=Array(e.length);i<e.length;i++)n[i]=e[i];return n}return(0,a.default)(e)}},700:function(e,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={name:"load-more",props:{showLoading:{type:Boolean,default:!0},tip:String}}},703:function(e,i,n){i=e.exports=n(213)(!1),i.push([e.i,'.weui-loading{width:20px;height:20px;display:inline-block;vertical-align:middle;animation:weuiLoading 1s steps(12) infinite;background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=") no-repeat;background-size:100%}.weui-loading.weui-loading_transparent{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMjAnIGhlaWdodD0nMTIwJyB2aWV3Qm94PScwIDAgMTAwIDEwMCc+PHBhdGggZmlsbD0nbm9uZScgZD0nTTAgMGgxMDB2MTAwSDB6Jy8+PHJlY3QgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjU2KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3RyYW5zbGF0ZSgwIC0zMCknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjUpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKDMwIDEwNS45OCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjQzKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSg2MCA3NS45OCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjM4KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSg5MCA2NSA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjMyKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgxMjAgNTguNjYgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4yOCknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoMTUwIDU0LjAyIDY1KScvPjxyZWN0IHdpZHRoPSc3JyBoZWlnaHQ9JzIwJyB4PSc0Ni41JyB5PSc0MCcgZmlsbD0ncmdiYSgyNTUsMjU1LDI1NSwuMjUpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKDE4MCA1MCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjIpJyByeD0nNScgcnk9JzUnIHRyYW5zZm9ybT0ncm90YXRlKC0xNTAgNDUuOTggNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4xNyknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoLTEyMCA0MS4zNCA2NSknLz48cmVjdCB3aWR0aD0nNycgaGVpZ2h0PScyMCcgeD0nNDYuNScgeT0nNDAnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjE0KScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgtOTAgMzUgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4xKScgcng9JzUnIHJ5PSc1JyB0cmFuc2Zvcm09J3JvdGF0ZSgtNjAgMjQuMDIgNjUpJy8+PHJlY3Qgd2lkdGg9JzcnIGhlaWdodD0nMjAnIHg9JzQ2LjUnIHk9JzQwJyBmaWxsPSdyZ2JhKDI1NSwyNTUsMjU1LC4wMyknIHJ4PSc1JyByeT0nNScgdHJhbnNmb3JtPSdyb3RhdGUoLTMwIC01Ljk4IDY1KScvPjwvc3ZnPgo=")}@keyframes weuiLoading{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.weui-loadmore{width:65%;margin:1.5em auto;line-height:1.6em;font-size:14px;text-align:center}.weui-loadmore__tips{display:inline-block;vertical-align:middle}.weui-loadmore_line{border-top:1px solid #e5e5e5;margin-top:2.4em}.weui-loadmore_line .weui-loadmore__tips{position:relative;top:-.9em;padding:0 .55em;color:#999}.weui-loadmore_dot .weui-loadmore__tips{padding:0 .16em}.weui-loadmore_dot .weui-loadmore__tips:before{content:" ";width:4px;height:4px;border-radius:50%;background-color:#e5e5e5;display:inline-block;position:relative;vertical-align:0;top:-.16em}.vux-loadmore.weui-loadmore_line{display:-ms-flexbox;display:flex;border-top:0}.vux-loadmore.weui-loadmore_line:after,.vux-loadmore.weui-loadmore_line:before{position:relative;top:-1px;-ms-flex:1;flex:1;content:"";border-top:1px solid #e5e5e5}',""])},704:function(e,i,n){var t=n(703);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);n(524)("2affc3bc",t,!0,{})},705:function(e,i){e.exports={render:function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"vux-loadmore weui-loadmore",class:{"weui-loadmore_line":!e.showLoading,"weui-loadmore_dot":!e.showLoading&&!e.tip}},[e.showLoading?n("i",{staticClass:"weui-loading"}):e._e(),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.tip||!e.showLoading,expression:"tip || !showLoading"}],staticClass:"weui-loadmore__tips"},[e._v(e._s(e.tip))])])},staticRenderFns:[]}},706:function(e,i,n){function t(e){n(704)}var a=n(54)(n(700),n(705),t,null,null);e.exports=a.exports},707:function(e,i,n){"use strict";n.d(i,"a",function(){return a});var t=n(39),a={directives:{"load-more":{bind:function(e,i){var a=window.screen.height,o=void 0,s=void 0,c=void 0,d=void 0,g=void 0,r=void 0,I=void 0,l=void 0,m=e.attributes.type&&e.attributes.type.value;2==m?(I=e,l=e.children[0]):(I=document.body,l=e),e.addEventListener("touchstart",function(){o=l.clientHeight,2==m&&(o=o),s=e.offsetTop,c=n.i(t.e)(e,"paddingBottom"),d=n.i(t.e)(e,"marginBottom")},!1),e.addEventListener("touchmove",function(){y()},!1),e.addEventListener("touchend",function(){r=I.scrollTop,u()},!1);var u=function e(){g=window.requestAnimationFrame||window.cancelAnimationFrame?requestAnimationFrame(function(){I.scrollTop!=r?(r=I.scrollTop,e()):(cancelAnimationFrame(g),o=l.clientHeight,y())}):setTimeout(function(){I.scrollTop!=r?(r=I.scrollTop,e()):(clearTimeout(g),o=l.clientHeight,y())},16)},y=function(){I.scrollTop+a>=o+s+c+d-2-100&&i.value()}}}}}}});